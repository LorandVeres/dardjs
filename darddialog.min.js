function dialog(e,t){var n,d,o,i={},s=counter(),c="dard_d_bd"+(new Date).getTime();function r(e){function t(e){e.keyIn("custom")?(e.custom.keyIn("head")?i.h=e.custom.head:i.h=null,e.custom.keyIn("close")?i.bt=e.custom.close:i.bt=null,e.custom.keyIn("min")?i.m=e.custom.min:i.m=null,e.custom.keyIn("max")?i.mx=e.custom.max:i.mx=null,e.custom.keyIn("body")?i.bd=e.custom.body:i.bd=null,e.custom.keyIn("footer")?i.f=e.custom.footer:i.f=null,document.body.appendChild(e.custom.wrapper)):e.keyIn("custom")||(i.d=document.createElement("div"),i.h=document.createElement("div"),i.ct=document.createElement("div"),i.bt=document.createElement("div"),i.m=document.createElement("div"),i.mx=document.createElement("div"),i.bd=document.createElement("div"),i.f=document.createElement("div"),i.ct.appendChild(i.bt),i.ct.appendChild(i.mx),i.ct.appendChild(i.m),i.h.appendChild(i.ct),i.d.appendChild(i.h),i.d.appendChild(i.bd),i.d.appendChild(i.f),i.d.setAttribute("id",c),i.d.setAttribute("class","dard_d_box"),i.h.setAttribute("class","dard_d_hd"),i.ct.setAttribute("class","dard_d_ct"),i.bt.setAttribute("class","dard_d_bt"),i.m.setAttribute("class","dard_d_bt"),i.mx.setAttribute("class","dard_d_bt"),i.bd.setAttribute("class","dard_d_bd"),i.f.setAttribute("class","dard_d_f"),i.m.innerHTML="&#95",i.mx.innerHTML="&square;",i.bt.innerHTML="&times;",document.body.appendChild(i.d))}return t(e),[i.d,i.h,i.bt,i.m,i.mx,i.bd,i.f]}function l(e,t){if(t.keyIn("css"))var n=t.css;if(isArray(t))n=t;if(n)for(var d=0,o=e.length;d<o;d++)"string"==typeof n[d]&&n[d].lenght>1&&e[d].removeAttribute("class"),e[d].setAttribute("class",n[d])}function m(){t.keyIn("transform")?i.d.className===t.transform[0]&&(l([i.d,i.h,i.bt,i.m,i.mx,i.bd,i.f],t),i.t&&(i.t.style.display="none")):(i.d.style.display="block",i.t&&(i.t.style.display="none"))}function a(e){t.keyIn("transform")?i.d.className!==t.css[0]&&"dard_d_box"!==i.d.className||(l([i.d,i.h,i.bd,i.f],t.transform),i.t&&(i.t.style.display="block")):(i.d.style.display="none",i.t&&(i.t.style.display="block"))}function u(e){var t=e.targetTouches[0];i.d.style.left=t.pageX-20+"px",i.d.style.top=t.pageY-20+"px",e.preventDefault()}function v(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function b(e){window.addEventListener("mousemove",p,!0),y=e.clientY-v(i.d,"top").slice(0,-2),x=e.clientX-v(i.d,"left").slice(0,-2)}function p(e){i.d.style.top=e.clientY-y+"px",i.d.style.left=e.clientX-x+"px"}function f(){window.removeEventListener("mousemove",p,!0),window.removeEventListener("touchmove",u,!0)}function h(){document.body.removeChild(i.d),i.t&&t.onside&&(document.body.removeChild(i.t),i.t.removeEventListener("click",m,!0)),s.reset(),n&&(i.h.removeEventListener("mousedown",b,!0),i.f.removeEventListener("mousedown",b,!0),window.removeEventListener("mouseup",f,!0),window.removeEventListener("mousedown",f,!0)),i.bt.removeEventListener("click",h,!0),i.m&&i.m.removeEventListener("click",a,!0),i.mx&&i.mx.removeEventListener("click",m,!0)}n=!(!t.keyIn("drag")||1!=t.drag),o=t,(d=e)?d.addEventListener("click",function(){var e,t,d;s.show()<1&&(s.increment(),(d=o).keyIn("onside")&&(isBool(d.onside)&&1==d.onside?(i.t=document.createElement("div"),i.t.setAttribute("class","dialog-toggle"),i.t.innerHTML="+",document.body.appendChild(i.t)):isObj(d.onside)&&(i.t=d.onside,document.body.appendChild(i.t))),l(r(o),o),function(e,t){if(t.keyIn("title")){var n=document.createElement("h4");n.appendChild(document.createTextNode(t.title)),e.appendChild(n)}}(i.h,o),e=i.bd,(t=o).keyIn("body")&&("string"==typeof t.body&&e.appendChild(str2el(t.body)),"object"==typeof t.body&&e.appendChild(t.body)),i.t&&i.t.addEventListener("click",m,!1),i.mx&&i.mx.addEventListener("click",m,!1),i.m&&i.m.addEventListener("click",a,!1),i.bt.addEventListener("click",h,!1),n&&(i.f.addEventListener("mousedown",b,!1),i.h.addEventListener("mousedown",b,!1),window.addEventListener("mouseup",f,!1),i.h.addEventListener("touchmove",u,!1),window.addEventListener("touchend",f,!1)),function(e){if(e.keyIn("acton"))for(var t=0,n=e.acton.myevent.length;t<n;t++)$(e.acton.trigger[t])[0].addEventListener(e.acton.myevent[t],e.acton.handler[t],!1)}(o))}):console.log(d+" dialog button not on this page")}